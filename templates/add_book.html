{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
    <h1 class="text-center mb-4">Add a Book</h1>
    <form method="POST" action="{{ url_for('add_book') }}">
        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="title">Book Title</label>
                <input type="text" 
                       name="title" 
                       class="form-control" 
                       id="title"
                       placeholder="Book Title" 
                       required>
            </div>
            
            <div class="col-md-6 mb-3">
                <label for="author">Author</label>
                <input type="text" 
                       name="author" 
                       class="form-control" 
                       id="author"
                       placeholder="Author" 
                       required>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="publisher">Publisher</label>
                <input type="text" 
                       name="publisher" 
                       class="form-control" 
                       id="publisher"
                       placeholder="Publisher" 
                       required>
            </div>

            <div class="col-md-6 mb-3">
                <label for="date_book_finished">Date Finished (MM/YYYY)</label>
                <input type="text" 
                       name="date_book_finished" 
                       class="form-control" 
                       id="date_book_finished" 
                       placeholder="MM/YYYY"
                       pattern="(0[1-9]|1[0-2])\/[0-9]{4}"
                       title="Please enter date in MM/YYYY format (e.g., 03/2024)">
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="image_url">Image URL (optional)</label>
                <input type="text" 
                       name="image_url" 
                       class="form-control" 
                       id="image_url"
                       placeholder="Image URL">
            </div>

            <div class="col-md-6 mb-3">
                <label for="rating">Rating (0-10)</label>
                <input type="float" 
                       name="rating" 
                       class="form-control" 
                       id="rating"
                       placeholder="Rating (0-10)" 
                       required>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="genre">Genre</label>
                <select class="form-control" id="genre" name="genre" required>
                    <option value="">Select a genre</option>
                    <optgroup label="Most Common Genres">
                        {% for genre in genres[:10] %}
                            <option value="{{ genre }}">{{ genre }}</option>
                        {% endfor %}
                    </optgroup>
                    <optgroup label="Additional Fiction Genres">
                        {% for genre in genres[10:20] %}
                            <option value="{{ genre }}">{{ genre }}</option>
                        {% endfor %}
                    </optgroup>
                    <optgroup label="Additional Non-Fiction Categories">
                        {% for genre in genres[20:] %}
                            <option value="{{ genre }}">{{ genre }}</option>
                        {% endfor %}
                    </optgroup>
                </select>
            </div>

            <div class="col-md-6 mb-3">
                <label for="shelf">Shelf</label>
                <select class="form-control" id="shelf" name="shelf_id">
                    <option value="">Wishlist</option>
                    {% for shelf in shelves %}
                        <option value="{{ shelf.id }}">{{ shelf.name }}</option>
                    {% endfor %}
                </select>
            </div>
        </div>

        <div class="row">
            <div class="col-12 text-center mt-3">
                <button type="submit" class="btn btn-primary">Add Book</button>
            </div>
        </div>
    </form>
</div>
{% endblock %}
 